# Session 1

- 소프트웨어 엔지니어 활동을 했는데, 데브옵스로 지원한 이유
  - 아키텍쳐 관점에서 효율적인 방안 도입하는 것이 재밌다
  - 개발을 하며 앱이 어떤 환경에서 돌아가고, 어떻게 구축되어야 하고하는 전체적인 흐름이 더 잘 보여서 devops에 흥미를 가졌다. devops지식들을 통해 역량을 넓히고 싶다
- E2C, ALB 사용 시 데브옵스 측면에서 고려해야하는 부분이 뭐가 있을까요?
  - 비용문제! 절감을 위해 E2C 인스턴스 타입을 잘 결정하고, 스케쥴을 걸어 미사용시간에는 안쓰게한다.
  - 꼬리질문 -> 스케쥴 꺼지면 기존에 진행하던 작업 갑자기 꺼지면 어떡해요?
  - 주로 서버작업은 우리팀에서 해서 사전 제어를 했다.
  - 꼬리질문 -> 개발자가 다시 켜고싶으면?
  - 중간 사이트를 둬서 api를 이용해 켤 수 있도록 했다.
  - 꼬리질문 -> api의 권한은? 루트라면 url 이용해서 다른 이상한 나쁜짓 하면?
  - 현재는 보안 문제가 있다. 해결을 위해 사용자의 계정에 대한 권한 설정을 둬야한다.
  - 꼬리질문 -> 어떻게?
  - 계정에 대한 권한은 ldap에서 관리하고, aws에서 해당 권한에 따라 접근할 수 있는 api와 instance 제한을 둔다.
  - 꼬리질문 -> aws 제공하는 권한 시스템을 사용해볼 수 있지 않나?
  - 그렇다. 공부해보겠다.
- AWS ECS도 사용해보았나?
  - 아뇨
- 도커 이미지 활용 방법?
  - 시뮬레이터 배포 방법으로 도커 이미지를 허브에 올려 사용
  - 꼬리질문 -> 사용하는 쪽에서 라이브 서비스에서 사용시 어떤 플랫폼 필요?
  - 사용 서버에는 도커 설치, 환경에 맞는 docker-compose.yml 필요
- 만약 24시간 떠있어야 하는 온라인 서비스의 경우, 업데이트가 주기적으로 일어나기 위해서 도입할 수 있는 방법?
  - A서버에 구 버전 두고, B서버에 신 버전 두어서 로드밸런서로 B버전 테스트가 끝나면 B 버전으로 돌린다.
  - 꼬리질문 -> 그러면 이중으로 서비스되나요?
  - 네.
  - 꼬리질문 -> 그럼 A끄고 B실행할 때, A에서 작업 중(10분 이상의 대기 필요)이던 게 있을 텐데 갑자기 끄면 작업 날아갈텐데, 안정적으로 A를 끄기 위한 방법을 제안해주세요.
  - 유저에게 공지합니다. 서비스 불안정할 수 있다고. 그리고 저희 서비스에서 최대 오래 걸리는 시간을 파악해서 그 시간의 텀을 둡니다.
  - 꼬리질문 -> 만약 하루에 수십번 배포가 일어나면 자동화를 해야할텐데 어떤 부분에서 뭐가 필요할까요? 생각나는대로 얘기해주세요.
  - cicd를 통해 배포 자동화 프로세스를 구축합니다. 이 때 오류를 줄이기 위해, 테스트과정, 소나큐브같은 정적테스트 스테이지를 추가합니다. 그리고 하루 수십번이라면 공지는 불가능할거같고, 지금 말씀드린건 블루-그린 방식인데 그보다는 롤링업데이트 방식을 해서 중단되는 시간을 줄이는 방법이 있을 것 같습니다.
- `user <-> api server <-> ocr engine server` 이러한 구조일 때, 솔루션 납품 시(이때 솔루션은 api server+engine server 의미) 고객사가 서버 몇 대를 알려달라고 한다면 산정을 위해 어떤 데이터를 이용할 거에요?
  - 데이터 사이즈, api를 하루에 호출하는 빈도, 고객사에서 원하는 응답속도
- 클러스터 관리(쿠버네티스 같은)거 해보신 적 있으신가요?
  - 아뇨
  - 꼬리-> 그럼 죽으면 안되는 서비스(high ability) 서비스 운영 경험 있나요?
  - 아뇨
  - 꼬리->기존에는 오프라인에서 만들어서 납품하는 작업을 하셨나요?
  - 네, 운영 전 개발작업 했습니다.
- 어려웠는데 좋은 output을 냈던 경험 있나요?
  - 테스트데이터 생성 빠르게 하는 아이디어 (템플릿 도입해서 빠르고 저렴하게!)

# Session 2

- 지금 해왔던 OiBDD 서비스의 구조에 대해 설명해주세요
  - 아키텍쳐 그림 보여주고 설명
- 데브옵스 적으로 참여했던 것을 알려주세요
  - CICD 구축, 서버 배포 작업
- 배포 과정에 대해 상세하게 알려주세요
  - cicd 배포, 도커
- 업데이트가 생겼을 때, 어떻게 패치하나요?
  - 롤링업데이트 방식
- 롤링업데이트 방식의 장단점에 대해 설명해주세요
  - 속도 빠르다, 구조가 간단하다. 단 테스트 충분하지 못하다. 그리고 인스턴스 두 버전에 대해 대응할 수 있어야 한다.
- OiBDD에 수평적 확장 도입 한다면 어떤 것?
  - 어플리케이션 서버 수를 늘려 로드밸런서를 둬서 라우팅을 통한 배포 흐름 관리
  - DB 서버를 여러대 둔다
- DB 서버를 여러 대 둔다면 몇대? 왜 그러한 결정?
  - DB 서버에 트래픽과 DB 서버가 감당할 수 있는 용량을 고려해서 결정
- DB 서버 여러 대 두었을 때, 일관성 보장을 위해 할 수 있는 것?
  - 정족수 합의 방식을 통해 강한 일관성 보장
- DB 성능을 늘리기 위해 인덱싱한다고 했는데, 인덱싱 하는 방법에 대해 설명해주세요.
- DB 인덱싱을 한다는 것이 어떤 것을 의미하죠?
  - 모르겠어요.. 공부해올게요..
- 물리적 서버 세 대가 있을 때 모니터링 방법
  - 장애감지를 위해 어플리케이션 내 프로파일링 설정해둠, 가십프로토콜 방식 도입
  - 장애처리를 위해서는 모르겠어요..
- DB 마이그레이션 해봤나?
  - 공부해봤다
- 만약 url이 255가 최대였던 컬럼을 200으로 줄였을 때 고려할 수 있는것?
  - 200글자 넘는 데이터가 필수적인가? 지워도 되나?
  - 필수는 아니지만 db 변경 후 에러 발생 시 롤백하면 필요하다.
  - 제안1. URL_ORG 테이블을 만들어서 복제해두고, 롤백 시 사용한다.
  - 제안2. 새로운 URL 테이블에 tmp 컬럼을 두고, 200글자 넘는 글자에 대해 저장해둔다. 롤백 시 그 데이터 붙여서 사용하고, 성공 시, tmp 에 데이터가 있는 로우 지우고, tmp 컬럼 삭제한다.
