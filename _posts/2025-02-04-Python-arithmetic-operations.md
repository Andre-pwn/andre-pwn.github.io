---
title: عملیات‌ حسابی
date: 2025-02-04
category: [اموزش پایتون]
priority: 4
---

>اهداف یادگیری\
>پس از این بخش، شما خواهید توانست:
>- از متغیرها در عملیات‌های حسابی مختلف استفاده کنید.
>- با اعداد در ورودی کاربر کار کنید.
>- مقادیر را به انواع داده‌های پایه‌ای دیگر تبدیل کنید.
{: .prompt-tip }

## مقدمه

در بخش‌های قبلی مثال‌هایی با عملیات‌های حسابی پایه دیده‌اید. در جدول زیر رایج‌ترین عملگرهای حسابی در پایتون همراه با مثال آورده شده‌اند:

| عملگر | هدف         | مثال       | نتیجه |
|-------|-------------|------------|-------|
| `+`   | جمع         | `2 + 4`    | 6     |
| `-`   | تفریق       | `10 - 2.5` | 7.5   |
| `*`   | ضرب         | `-2 * 123` | -246  |
| `/`   | تقسیم (نتیجه اعشاری) | `9 / 2` | 4.5   |
| `//`  | تقسیم (نتیجه صحیح) | `9 // 2` | 4     |
| `%`   | باقی‌مانده   | `9 % 2`    | 1     |
| `**`  | توان        | `2 ** 3`   | 8     |

ترتیب عملیات‌ها از ریاضیات آشناست: ابتدا توان‌ها، سپس ضرب و تقسیم، و در نهایت جمع و تفریق. ترتیب را می‌توان با استفاده از پرانتز تغییر داد.

به عنوان مثال، این کد:

```python
print(2 + 3 * 3)
print((2 + 3) * 3)
```

خروجی زیر را چاپ می‌کند:

```
11
15
```

# عملوندها، عملگرها و انواع داده‌ها

یک محاسبه معمولاً از عملوندها و عملگرها تشکیل شده است:

```python
1 + 4
```

نوع داده‌ای یک عملوند معمولاً نوع داده‌ای نتیجه را تعیین می‌کند: اگر دو عدد صحیح با هم جمع شوند، نتیجه نیز یک عدد صحیح خواهد بود. اگر یک عدد اعشاری از عدد اعشاری دیگر کم شود، نتیجه یک عدد اعشاری است. در واقع، اگر حتی یکی از عملوندها در یک عبارت عدد اعشاری باشد، نتیجه نیز یک عدد اعشاری خواهد بود، بدون توجه به سایر عملوندها.

تقسیم `/` یک استثناست. نتیجه آن یک عدد اعشاری است، حتی اگر عملوندها اعداد صحیح باشند. به عنوان مثال، `1 / 5` نتیجه `0.2` را خواهد داد.

مثال:

```python
height = 172.5
weight = 68.55

# شاخص توده بدنی (BMI) با تقسیم وزن بر مجذور قد محاسبه می‌شود
# قد در فرمول به متر تبدیل می‌شود
bmi = weight / (height / 100) ** 2

print(f"The BMI is {bmi}")
```

این برنامه خروجی زیر را چاپ می‌کند:

```
The BMI is 23.037177063642087
```

توجه کنید که پایتون همچنین عملگر تقسیم صحیح `//` را دارد. اگر عملوندها اعداد صحیح باشند، نتیجه یک عدد صحیح خواهد بود. نتیجه به نزدیک‌ترین عدد صحیح گرد می‌شود. به عنوان مثال، این برنامه:

```python
x = 3
y = 2

print(f"/ operator {x/y}")
print(f"// operator {x//y}")
```

خروجی زیر را چاپ می‌کند:

```
/ operator 1.5
// operator 1
```

# اعداد به عنوان ورودی

ما قبلاً از دستور `input` برای خواندن رشته‌ها از کاربر استفاده کرده‌ایم. همان تابع می‌تواند برای خواندن اعداد استفاده شود، اما رشته تولید شده توسط تابع باید سپس به یک نوع داده عددی در کد برنامه تبدیل شود. در بخش قبل، اعداد صحیح را با تابع `str` به رشته تبدیل کردیم. همین اصل اساسی در اینجا نیز اعمال می‌شود، اما نام تابع تبدیل متفاوت خواهد بود.

یک رشته را می‌توان با تابع `int` به یک عدد صحیح تبدیل کرد. برنامه زیر از کاربر می‌خواهد سال تولد خود را وارد کند و آن را در متغیر `input_str` ذخیره می‌کند. سپس برنامه متغیر دیگری به نام `year` ایجاد می‌کند که سال تبدیل شده به عدد صحیح را در خود دارد. پس از این، محاسبه `2021 - year` با استفاده از مقدار وارد شده توسط کاربر امکان‌پذیر است.

```python
input_str = input("Which year were you born? ")
year = int(input_str)
print(f"Your age at the end of the year 2021: {2021 - year}")
```

خروجی نمونه:

```
Which year were you born? 1995
Your age at the end of the year 2021: 26
```

معمولاً نیازی به ایجاد دو متغیر جداگانه (مانند `input_str` و `year` در بالا) برای خواندن یک مقدار عددی از کاربر نیست. در عوض، خواندن ورودی با تابع `input` و تبدیل آن با تابع `int` را می‌توان در یک مرحله انجام داد:

```python
year = int(input("Which year were you born? "))
print(f"Your age at the end of the year 2021: {2021 - year}")
```

به طور مشابه، یک رشته را می‌توان با تابع `float` به یک عدد اعشاری تبدیل کرد. این برنامه از کاربر می‌خواهد قد و وزن خود را وارد کند و از این مقادیر برای محاسبه شاخص توده بدنی (BMI) استفاده می‌کند:

```python
height = float(input("What is your height? "))
weight = float(input("What is your weight? "))

height = height / 100
bmi = weight / height ** 2

print(f"The BMI is {bmi}")
```

مثال خروجی از برنامه:

```
What is your height? 163
What is your weight? 74.45
The BMI is 28.02137829801649
```

# استفاده از متغیرها

بیایید به برنامه‌ای نگاه کنیم که مجموع سه عدد وارد شده توسط کاربر را محاسبه می‌کند:

```python
number1 = int(input("First number: "))
number2 = int(input("Second number: "))
number3 = int(input("Third number: "))

sum = number1 + number2 + number3
print(f"The sum of the numbers: {sum}")
```

مثال اجرای برنامه:

```
First number: 5
Second number: 21
Third number: 7
The sum of the numbers: 33
```

این برنامه از چهار متغیر مختلف استفاده می‌کند، اما در این مورد دو متغیر به راحتی کافی است:

```python
sum = 0

number = int(input("First number: "))
sum = sum + number

number = int(input("Second number: "))
sum = sum + number

number = int(input("Third number: "))
sum = sum + number

print(f"The sum of the numbers: {sum}")
```

حالا تمام ورودی‌های کاربر در یک متغیر واحد به نام `number` خوانده می‌شوند. مقدار متغیر `sum` هر بار که کاربر یک عدد جدید وارد می‌کند، افزایش می‌یابد.

بیایید نگاهی دقیق‌تر به این دستور بیندازیم:

```python
sum = sum + number
```

در اینجا، مقدار متغیر `sum` و مقدار متغیر `number` با هم جمع می‌شوند و نتیجه در متغیر `sum` ذخیره می‌شود. به عنوان مثال، اگر قبل از اجرای این دستور مقدار `sum` برابر با ۳ و مقدار `number` برابر با ۲ باشد، پس از اجرای دستور، مقدار `sum` برابر با ۵ خواهد بود.

افزایش مقدار یک متغیر یک عمل بسیار رایج است. به همین دلیل، یک نماد کوتاه‌نوشت رایج وجود دارد که همان نتیجه جمع بالا را به دست می‌آورد:

```python
sum += number
```

این به ما امکان می‌دهد برنامه بالا را کمی مختصرتر بنویسیم:

```python
sum = 0

number = int(input("First number: "))
sum += number

number = int(input("Second number: "))
sum += number

number = int(input("Third number: "))
sum += number

print(f"The sum of the numbers: {sum}")
```

در واقع، ما لزوماً به متغیر `number` نیاز نداریم. ورودی‌های کاربر را می‌توان به این شکل نیز پردازش کرد:

```python
sum = 0

sum += int(input("First number: "))
sum += int(input("Second number: "))
sum += int(input("Third number: "))

print(f"The sum of the numbers: {sum}")
```

البته، تعداد متغیرهای مورد نیاز به زمینه بستگی دارد. اگر لازم باشد هر مقدار وارد شده توسط کاربر را به خاطر بسپاریم، استفاده مجدد از یک متغیر برای خواندن مقادیر مختلف از کاربر امکان‌پذیر نخواهد بود. به مثال زیر توجه کنید:

```python
number1 = int(input("First number: "))
number2 = int(input("Second number: "))

print(f"{number1} + {number2} = {number1+number2}")
```

خروجی نمونه:

```
First number: 2
Second number: 3
2 + 3 = 5
```

از طرف دیگر، برنامه بالا یک متغیر نام‌گذاری شده برای ذخیره مجموع دو مقدار ندارد.

استفاده مجدد از یک متغیر فقط زمانی معنا دارد که نیاز به ذخیره موقت چیزهایی از نوع و هدف مشابه باشد، مثلاً هنگام جمع کردن اعداد.

در مثال زیر، متغیر `data` ابتدا برای ذخیره نام کاربر و سپس سن او استفاده می‌شود. این کار اصلاً منطقی نیست.

```python
data = input("What is your name? ")
print("Hi " + data + "!")

data = int(input("What is your age? "))
# برنامه ادامه می‌یابد...
```

ایده بهتر این است که از متغیرهای جداگانه با نام‌های توصیفی استفاده کنیم:

```python
name = input("What is your name? ")
print("Hi " + name + "!")

age = int(input("What is your age? "))

```

